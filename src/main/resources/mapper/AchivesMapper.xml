<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hr.dao.AchivesMapper" >
  <resultMap id="BaseResultMap" type="com.hr.bean.Achives" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="emp_id" property="empId" jdbcType="INTEGER" />
    <result column="emp_name" property="empName" jdbcType="VARCHAR" />
    <result column="emp_sex" property="empSex" jdbcType="VARCHAR" />
    <result column="emp_address" property="empAddress" jdbcType="VARCHAR" />
    <result column="emp_birth" property="empBirth" jdbcType="TIMESTAMP" />
    <result column="emp_card" property="empCard" jdbcType="VARCHAR" />
    <result column="entry_time" property="entryTime" jdbcType="TIMESTAMP" />
    <result column="emp_titles" property="empTitles" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="graduation_time" property="graduationTime" jdbcType="TIMESTAMP" />
    <result column="graduation_shcool" property="graduationShcool" jdbcType="VARCHAR" />
    <result column="education" property="education" jdbcType="INTEGER" />
    <result column="emp_depart" property="empDepart" jdbcType="INTEGER" />
    <result column="emp_status" property="empStatus" jdbcType="INTEGER" />
    <result column="ext_a" property="extA" jdbcType="VARCHAR" />
    <result column="ext_b" property="extB" jdbcType="VARCHAR" />
    <result column="ext_c" property="extC" jdbcType="VARCHAR" />
    <result column="depart_name" property="departName" jdbcType="VARCHAR" />
    
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from achives
    where emp_id = #{empId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.hr.bean.Achives" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into achives ( emp_name, emp_sex,
      emp_address, emp_birth, emp_card, 
      entry_time, emp_titles, mobile, 
      graduation_time, graduation_shcool, education, 
      emp_depart, emp_status, ext_a, 
      ext_b, ext_c)
    values (#{empName,jdbcType=VARCHAR}, #{empSex,jdbcType=VARCHAR},
      #{empAddress,jdbcType=VARCHAR}, #{empBirth,jdbcType=TIMESTAMP}, #{empCard,jdbcType=VARCHAR}, 
      #{entryTime,jdbcType=TIMESTAMP}, #{empTitles,jdbcType=VARCHAR}, #{mobile,jdbcType=VARCHAR}, 
      #{graduationTime,jdbcType=TIMESTAMP}, #{graduationShcool,jdbcType=VARCHAR}, #{education,jdbcType=INTEGER}, 
      #{empDepart,jdbcType=INTEGER}, #{empStatus,jdbcType=INTEGER}, #{extA,jdbcType=VARCHAR}, 
      #{extB,jdbcType=VARCHAR}, #{extC,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.hr.bean.Achives" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update achives
    set emp_name = #{empName,jdbcType=VARCHAR},
      emp_sex = #{empSex,jdbcType=VARCHAR},
      emp_address = #{empAddress,jdbcType=VARCHAR},
      emp_birth = #{empBirth,jdbcType=TIMESTAMP},
      emp_card = #{empCard,jdbcType=VARCHAR},
      entry_time = #{entryTime,jdbcType=TIMESTAMP},
      emp_titles = #{empTitles,jdbcType=VARCHAR},
      mobile = #{mobile,jdbcType=VARCHAR},
      graduation_time = #{graduationTime,jdbcType=TIMESTAMP},
      graduation_shcool = #{graduationShcool,jdbcType=VARCHAR},
      education = #{education,jdbcType=INTEGER},
      emp_depart = #{empDepart,jdbcType=INTEGER},
      emp_status = #{empStatus,jdbcType=INTEGER},
      ext_a = #{extA,jdbcType=VARCHAR},
      ext_b = #{extB,jdbcType=VARCHAR},
      ext_c = #{extC,jdbcType=VARCHAR}
    where emp_id = #{empId,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select emp_id, emp_name, emp_sex, emp_address, emp_birth, emp_card, entry_time, emp_titles, 
    mobile, graduation_time, graduation_shcool, education, emp_depart, emp_status, ext_a, 
    ext_b, ext_c
    from achives
    where emp_id = #{empId,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" parameterType="com.hr.bean.Achives">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
       select emp_id, emp_name, emp_sex, emp_address, emp_birth, emp_card, entry_time, emp_titles, 
    mobile, graduation_time, graduation_shcool, education, emp_depart, emp_status, a.ext_a, 
    a.ext_b, a.ext_c ,d.depart_name
    from achives a left JOIN depart d ON a.emp_depart=d.depart_id
    <where>
    	<if test="empName !=null and empName !=''">
    		and emp_name like CONCAT('%',#{empName},'%')
    	</if>
    	<if test="empSex !=null and empSex !=''">
    		and emp_sex=#{empSex}
    	</if>
    	<if test="education !=null and education !=''">
    		and education=#{education}
    	</if>
    	<if test="empDepart !=null and empDepart !=''">
    		and emp_depart=#{empDepart}
    	</if>
    	<if test="empStatus !=null and empStatus !=''">
    		and emp_status=#{empStatus}
    	</if>
    </where>
  </select>
  <update id="updateAchivesStatus" parameterType="com.hr.bean.Achives" >
  	 update achives
     set emp_status = #{empStatus,jdbcType=INTEGER}
     where emp_id = #{empId,jdbcType=INTEGER}
  </update>
  
</mapper>